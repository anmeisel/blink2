{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAsync}from\"react-async-hook\";import{jsx as _jsx}from\"react/jsx-runtime\";var source;const ImgurComponent=()=>{const[img,setImg]=useState(null);function randomString(){console.log(\"called\");var chars='01234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghiklmnopqrstuvwxyz';var stringlength=5;/* could be 6 or 7, but takes forever because there are lots of dead images */var text='';for(var i=0;i<stringlength;i++){var rnum=Math.floor(Math.random()*chars.length);text+=chars.substring(rnum,rnum+1);}var source='https://i.imgur.com/'+text+'.jpg';var image=new Image();image.onload=function(){if(this.width==161){randomString();}else{setImg(source);}};image.src=source;};useEffect(()=>{// call api or anything\nconsole.log(\"bla\");randomString();});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"imgurimg\",src:img})},img);};export default ImgurComponent;","map":{"version":3,"names":["React","useState","useEffect","useAsync","jsx","_jsx","source","ImgurComponent","img","setImg","randomString","console","log","chars","stringlength","text","i","rnum","Math","floor","random","length","substring","image","Image","onload","width","src","children","className"],"sources":["/Users/Tian/Documents/blink2/src/Imgur.js"],"sourcesContent":["\nimport React, { useState, useEffect  } from 'react';\nimport { useAsync } from \"react-async-hook\";\n\nvar source;\nconst ImgurComponent = () => {  \n    const [img, setImg] = useState(null);\n\n    function randomString() {   \n        console.log(\"called\");    \n        var chars = '01234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghiklmnopqrstuvwxyz'; \n        var stringlength = 5; /* could be 6 or 7, but takes forever because there are lots of dead images */\n        var text = '';\n        for (var i = 0; i < stringlength; i++) {\n          var rnum = Math.floor(Math.random() * chars.length);\n          text += chars.substring(rnum,rnum+1);\n        }\n\n        var source = 'https://i.imgur.com/' + text + '.jpg';\n\n        var image = new Image();\n        image.onload = function() {\n          if (this.width == 161) {\n            randomString();\n          } else {\n            setImg(source);\n          }\n        };\n        image.src = source;\n    };\n\n    useEffect(() => {\n        // call api or anything\n        console.log(\"bla\");\n        randomString();\n     });\n\n    return (\n        <div key={img}>\n            <img className=\"imgurimg\" src={img}></img>\n        </div>\n    );\n};\n\nexport default ImgurComponent;\n\n\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAS,OAAO,CACnD,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5C,GAAI,CAAAC,MAAM,CACV,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,GAAG,CAAEC,MAAM,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CAEpC,QAAS,CAAAS,YAAYA,CAAA,CAAG,CACpBC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACrB,GAAI,CAAAC,KAAK,CAAG,gEAAgE,CAC5E,GAAI,CAAAC,YAAY,CAAG,CAAC,CAAE,8EACtB,GAAI,CAAAC,IAAI,CAAG,EAAE,CACb,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGF,YAAY,CAAEE,CAAC,EAAE,CAAE,CACrC,GAAI,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAGP,KAAK,CAACQ,MAAM,CAAC,CACnDN,IAAI,EAAIF,KAAK,CAACS,SAAS,CAACL,IAAI,CAACA,IAAI,CAAC,CAAC,CAAC,CACtC,CAEA,GAAI,CAAAX,MAAM,CAAG,sBAAsB,CAAGS,IAAI,CAAG,MAAM,CAEnD,GAAI,CAAAQ,KAAK,CAAG,GAAI,CAAAC,KAAK,CAAC,CAAC,CACvBD,KAAK,CAACE,MAAM,CAAG,UAAW,CACxB,GAAI,IAAI,CAACC,KAAK,EAAI,GAAG,CAAE,CACrBhB,YAAY,CAAC,CAAC,CAChB,CAAC,IAAM,CACLD,MAAM,CAACH,MAAM,CAAC,CAChB,CACF,CAAC,CACDiB,KAAK,CAACI,GAAG,CAAGrB,MAAM,CACtB,CAAC,CAEDJ,SAAS,CAAC,IAAM,CACZ;AACAS,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC,CAClBF,YAAY,CAAC,CAAC,CACjB,CAAC,CAAC,CAEH,mBACIL,IAAA,QAAAuB,QAAA,cACIvB,IAAA,QAAKwB,SAAS,CAAC,UAAU,CAACF,GAAG,CAAEnB,GAAI,CAAM,CAAC,EADpCA,GAEL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAD,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}