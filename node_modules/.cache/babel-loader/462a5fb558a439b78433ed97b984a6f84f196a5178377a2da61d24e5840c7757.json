{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar useMountedState_1 = tslib_1.__importDefault(require(\"./useMountedState\"));\nfunction useAsyncFn(fn, deps, initialState) {\n  if (deps === void 0) {\n    deps = [];\n  }\n  if (initialState === void 0) {\n    initialState = {\n      loading: false\n    };\n  }\n  var lastCallId = react_1.useRef(0);\n  var isMounted = useMountedState_1.default();\n  var _a = react_1.useState(initialState),\n    state = _a[0],\n    set = _a[1];\n  var callback = react_1.useCallback(function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    var callId = ++lastCallId.current;\n    if (!state.loading) {\n      set(function (prevState) {\n        return tslib_1.__assign(tslib_1.__assign({}, prevState), {\n          loading: true\n        });\n      });\n    }\n    return fn.apply(void 0, args).then(function (value) {\n      isMounted() && callId === lastCallId.current && set({\n        value: value,\n        loading: false\n      });\n      return value;\n    }, function (error) {\n      isMounted() && callId === lastCallId.current && set({\n        error: error,\n        loading: false\n      });\n      return error;\n    });\n  }, deps);\n  return [state, callback];\n}\nexports.default = useAsyncFn;","map":{"version":3,"names":["Object","defineProperty","exports","value","tslib_1","require","react_1","useMountedState_1","__importDefault","useAsyncFn","fn","deps","initialState","loading","lastCallId","useRef","isMounted","default","_a","useState","state","set","callback","useCallback","args","_i","arguments","length","callId","current","prevState","__assign","apply","then","error"],"sources":["/Users/Tian/Documents/blink2/node_modules/react-use/lib/useAsyncFn.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar useMountedState_1 = tslib_1.__importDefault(require(\"./useMountedState\"));\nfunction useAsyncFn(fn, deps, initialState) {\n    if (deps === void 0) { deps = []; }\n    if (initialState === void 0) { initialState = { loading: false }; }\n    var lastCallId = react_1.useRef(0);\n    var isMounted = useMountedState_1.default();\n    var _a = react_1.useState(initialState), state = _a[0], set = _a[1];\n    var callback = react_1.useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var callId = ++lastCallId.current;\n        if (!state.loading) {\n            set(function (prevState) { return (tslib_1.__assign(tslib_1.__assign({}, prevState), { loading: true })); });\n        }\n        return fn.apply(void 0, args).then(function (value) {\n            isMounted() && callId === lastCallId.current && set({ value: value, loading: false });\n            return value;\n        }, function (error) {\n            isMounted() && callId === lastCallId.current && set({ error: error, loading: false });\n            return error;\n        });\n    }, deps);\n    return [state, callback];\n}\nexports.default = useAsyncFn;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC9B,IAAIC,OAAO,GAAGD,OAAO,CAAC,OAAO,CAAC;AAC9B,IAAIE,iBAAiB,GAAGH,OAAO,CAACI,eAAe,CAACH,OAAO,CAAC,mBAAmB,CAAC,CAAC;AAC7E,SAASI,UAAUA,CAACC,EAAE,EAAEC,IAAI,EAAEC,YAAY,EAAE;EACxC,IAAID,IAAI,KAAK,KAAK,CAAC,EAAE;IAAEA,IAAI,GAAG,EAAE;EAAE;EAClC,IAAIC,YAAY,KAAK,KAAK,CAAC,EAAE;IAAEA,YAAY,GAAG;MAAEC,OAAO,EAAE;IAAM,CAAC;EAAE;EAClE,IAAIC,UAAU,GAAGR,OAAO,CAACS,MAAM,CAAC,CAAC,CAAC;EAClC,IAAIC,SAAS,GAAGT,iBAAiB,CAACU,OAAO,CAAC,CAAC;EAC3C,IAAIC,EAAE,GAAGZ,OAAO,CAACa,QAAQ,CAACP,YAAY,CAAC;IAAEQ,KAAK,GAAGF,EAAE,CAAC,CAAC,CAAC;IAAEG,GAAG,GAAGH,EAAE,CAAC,CAAC,CAAC;EACnE,IAAII,QAAQ,GAAGhB,OAAO,CAACiB,WAAW,CAAC,YAAY;IAC3C,IAAIC,IAAI,GAAG,EAAE;IACb,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACC,MAAM,EAAEF,EAAE,EAAE,EAAE;MAC1CD,IAAI,CAACC,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;IAC5B;IACA,IAAIG,MAAM,GAAG,EAAEd,UAAU,CAACe,OAAO;IACjC,IAAI,CAACT,KAAK,CAACP,OAAO,EAAE;MAChBQ,GAAG,CAAC,UAAUS,SAAS,EAAE;QAAE,OAAQ1B,OAAO,CAAC2B,QAAQ,CAAC3B,OAAO,CAAC2B,QAAQ,CAAC,CAAC,CAAC,EAAED,SAAS,CAAC,EAAE;UAAEjB,OAAO,EAAE;QAAK,CAAC,CAAC;MAAG,CAAC,CAAC;IAChH;IACA,OAAOH,EAAE,CAACsB,KAAK,CAAC,KAAK,CAAC,EAAER,IAAI,CAAC,CAACS,IAAI,CAAC,UAAU9B,KAAK,EAAE;MAChDa,SAAS,CAAC,CAAC,IAAIY,MAAM,KAAKd,UAAU,CAACe,OAAO,IAAIR,GAAG,CAAC;QAAElB,KAAK,EAAEA,KAAK;QAAEU,OAAO,EAAE;MAAM,CAAC,CAAC;MACrF,OAAOV,KAAK;IAChB,CAAC,EAAE,UAAU+B,KAAK,EAAE;MAChBlB,SAAS,CAAC,CAAC,IAAIY,MAAM,KAAKd,UAAU,CAACe,OAAO,IAAIR,GAAG,CAAC;QAAEa,KAAK,EAAEA,KAAK;QAAErB,OAAO,EAAE;MAAM,CAAC,CAAC;MACrF,OAAOqB,KAAK;IAChB,CAAC,CAAC;EACN,CAAC,EAAEvB,IAAI,CAAC;EACR,OAAO,CAACS,KAAK,EAAEE,QAAQ,CAAC;AAC5B;AACApB,OAAO,CAACe,OAAO,GAAGR,UAAU"},"metadata":{},"sourceType":"script","externalDependencies":[]}