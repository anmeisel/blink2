{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar useUnmount_1 = tslib_1.__importDefault(require(\"./useUnmount\"));\nvar useThrottle = function (value, ms) {\n  if (ms === void 0) {\n    ms = 200;\n  }\n  var _a = react_1.useState(value),\n    state = _a[0],\n    setState = _a[1];\n  var timeout = react_1.useRef();\n  var nextValue = react_1.useRef(null);\n  var hasNextValue = react_1.useRef(0);\n  react_1.useEffect(function () {\n    if (!timeout.current) {\n      setState(value);\n      var timeoutCallback_1 = function () {\n        if (hasNextValue.current) {\n          hasNextValue.current = false;\n          setState(nextValue.current);\n          timeout.current = setTimeout(timeoutCallback_1, ms);\n        } else {\n          timeout.current = undefined;\n        }\n      };\n      timeout.current = setTimeout(timeoutCallback_1, ms);\n    } else {\n      nextValue.current = value;\n      hasNextValue.current = true;\n    }\n  }, [value]);\n  useUnmount_1.default(function () {\n    timeout.current && clearTimeout(timeout.current);\n  });\n  return state;\n};\nexports.default = useThrottle;","map":{"version":3,"names":["Object","defineProperty","exports","value","tslib_1","require","react_1","useUnmount_1","__importDefault","useThrottle","ms","_a","useState","state","setState","timeout","useRef","nextValue","hasNextValue","useEffect","current","timeoutCallback_1","setTimeout","undefined","default","clearTimeout"],"sources":["/Users/Tian/Documents/blink2/node_modules/react-use/lib/useThrottle.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar useUnmount_1 = tslib_1.__importDefault(require(\"./useUnmount\"));\nvar useThrottle = function (value, ms) {\n    if (ms === void 0) { ms = 200; }\n    var _a = react_1.useState(value), state = _a[0], setState = _a[1];\n    var timeout = react_1.useRef();\n    var nextValue = react_1.useRef(null);\n    var hasNextValue = react_1.useRef(0);\n    react_1.useEffect(function () {\n        if (!timeout.current) {\n            setState(value);\n            var timeoutCallback_1 = function () {\n                if (hasNextValue.current) {\n                    hasNextValue.current = false;\n                    setState(nextValue.current);\n                    timeout.current = setTimeout(timeoutCallback_1, ms);\n                }\n                else {\n                    timeout.current = undefined;\n                }\n            };\n            timeout.current = setTimeout(timeoutCallback_1, ms);\n        }\n        else {\n            nextValue.current = value;\n            hasNextValue.current = true;\n        }\n    }, [value]);\n    useUnmount_1.default(function () {\n        timeout.current && clearTimeout(timeout.current);\n    });\n    return state;\n};\nexports.default = useThrottle;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC9B,IAAIC,OAAO,GAAGD,OAAO,CAAC,OAAO,CAAC;AAC9B,IAAIE,YAAY,GAAGH,OAAO,CAACI,eAAe,CAACH,OAAO,CAAC,cAAc,CAAC,CAAC;AACnE,IAAII,WAAW,GAAG,SAAAA,CAAUN,KAAK,EAAEO,EAAE,EAAE;EACnC,IAAIA,EAAE,KAAK,KAAK,CAAC,EAAE;IAAEA,EAAE,GAAG,GAAG;EAAE;EAC/B,IAAIC,EAAE,GAAGL,OAAO,CAACM,QAAQ,CAACT,KAAK,CAAC;IAAEU,KAAK,GAAGF,EAAE,CAAC,CAAC,CAAC;IAAEG,QAAQ,GAAGH,EAAE,CAAC,CAAC,CAAC;EACjE,IAAII,OAAO,GAAGT,OAAO,CAACU,MAAM,CAAC,CAAC;EAC9B,IAAIC,SAAS,GAAGX,OAAO,CAACU,MAAM,CAAC,IAAI,CAAC;EACpC,IAAIE,YAAY,GAAGZ,OAAO,CAACU,MAAM,CAAC,CAAC,CAAC;EACpCV,OAAO,CAACa,SAAS,CAAC,YAAY;IAC1B,IAAI,CAACJ,OAAO,CAACK,OAAO,EAAE;MAClBN,QAAQ,CAACX,KAAK,CAAC;MACf,IAAIkB,iBAAiB,GAAG,SAAAA,CAAA,EAAY;QAChC,IAAIH,YAAY,CAACE,OAAO,EAAE;UACtBF,YAAY,CAACE,OAAO,GAAG,KAAK;UAC5BN,QAAQ,CAACG,SAAS,CAACG,OAAO,CAAC;UAC3BL,OAAO,CAACK,OAAO,GAAGE,UAAU,CAACD,iBAAiB,EAAEX,EAAE,CAAC;QACvD,CAAC,MACI;UACDK,OAAO,CAACK,OAAO,GAAGG,SAAS;QAC/B;MACJ,CAAC;MACDR,OAAO,CAACK,OAAO,GAAGE,UAAU,CAACD,iBAAiB,EAAEX,EAAE,CAAC;IACvD,CAAC,MACI;MACDO,SAAS,CAACG,OAAO,GAAGjB,KAAK;MACzBe,YAAY,CAACE,OAAO,GAAG,IAAI;IAC/B;EACJ,CAAC,EAAE,CAACjB,KAAK,CAAC,CAAC;EACXI,YAAY,CAACiB,OAAO,CAAC,YAAY;IAC7BT,OAAO,CAACK,OAAO,IAAIK,YAAY,CAACV,OAAO,CAACK,OAAO,CAAC;EACpD,CAAC,CAAC;EACF,OAAOP,KAAK;AAChB,CAAC;AACDX,OAAO,CAACsB,OAAO,GAAGf,WAAW"},"metadata":{},"sourceType":"script","externalDependencies":[]}