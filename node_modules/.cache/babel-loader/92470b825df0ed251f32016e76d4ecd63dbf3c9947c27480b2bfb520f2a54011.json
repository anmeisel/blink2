{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/log.ts\nvar LogLevel = /* @__PURE__ */(LogLevel2 => {\n  LogLevel2[LogLevel2[\"DEBUG\"] = 0] = \"DEBUG\";\n  LogLevel2[LogLevel2[\"INFO\"] = 1] = \"INFO\";\n  LogLevel2[LogLevel2[\"WARN\"] = 2] = \"WARN\";\n  LogLevel2[LogLevel2[\"ERROR\"] = 3] = \"ERROR\";\n  return LogLevel2;\n})(LogLevel || {});\nvar Logger = {\n  ENABLED: typeof window !== \"undefined\" && typeof location !== \"undefined\" && location.search.indexOf(\"giphy-debug\") !== -1,\n  LEVEL: 0,\n  PREFIX: \"GiphyJS\",\n  debug: function () {\n    if (Logger.ENABLED && Logger.LEVEL <= 0 /* DEBUG */) {\n      for (var _len = arguments.length, msg = new Array(_len), _key = 0; _key < _len; _key++) {\n        msg[_key] = arguments[_key];\n      }\n      console.debug(Logger.PREFIX, ...msg);\n    }\n  },\n  info: function () {\n    if (Logger.ENABLED && Logger.LEVEL <= 1 /* INFO */) {\n      for (var _len2 = arguments.length, msg = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        msg[_key2] = arguments[_key2];\n      }\n      console.info(Logger.PREFIX, ...msg);\n    }\n  },\n  warn: function () {\n    if (Logger.ENABLED && Logger.LEVEL <= 2 /* WARN */) {\n      for (var _len3 = arguments.length, msg = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        msg[_key3] = arguments[_key3];\n      }\n      console.warn(Logger.PREFIX, ...msg);\n    }\n  },\n  error: function () {\n    if (Logger.ENABLED && Logger.LEVEL <= 3 /* ERROR */) {\n      for (var _len4 = arguments.length, msg = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        msg[_key4] = arguments[_key4];\n      }\n      console.error(Logger.PREFIX, ...msg);\n    }\n  }\n};\n\n// src/bestfit.ts\nvar closestArea = (width, height, renditions) => {\n  let currentBest = Infinity;\n  let result;\n  renditions.forEach(rendition => {\n    const widthPercentage = rendition.width / width;\n    const heightPercentage = rendition.height / height;\n    const areaPercentage = widthPercentage * heightPercentage;\n    const testBest = Math.abs(1 - areaPercentage);\n    if (testBest < currentBest) {\n      currentBest = testBest;\n      result = rendition;\n    }\n  });\n  return result;\n};\nvar SCALE_UP_MAX_PIXELS = 50;\nvar setRenditionScaleUpMaxPixels = pixels => {\n  Logger.debug(\"@giphy/js-util set rendition selection scale up max pixels to \".concat(pixels));\n  SCALE_UP_MAX_PIXELS = pixels;\n};\nfunction bestfit(renditions, width, height) {\n  let scaleUpMaxPixels = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : SCALE_UP_MAX_PIXELS;\n  let [largestRendition] = renditions;\n  const testRenditions = renditions.filter(rendition => {\n    if (rendition.width * rendition.height > largestRendition.width * largestRendition.height) {\n      largestRendition = rendition;\n    }\n    return width - rendition.width <= scaleUpMaxPixels && height - rendition.height <= scaleUpMaxPixels;\n  });\n  if (testRenditions.length === 0) {\n    return largestRendition;\n  }\n  return closestArea(width, height, testRenditions);\n}\nvar bestfit_default = bestfit;\n\n// src/collections.ts\nfunction mapValues(object, mapFn) {\n  if (Array.isArray(object)) {\n    throw \"This map is just for objects, just use array.map for arrays\";\n  }\n  return Object.keys(object).reduce((result, key) => {\n    result[key] = mapFn(object[key], key);\n    return result;\n  }, {});\n}\nfunction forEach(object, mapFn) {\n  if (Array.isArray(object)) {\n    throw \"This map is just for objects, just use array.forEach for arrays\";\n  }\n  return Object.keys(object).forEach(key => {\n    mapFn(object[key], key);\n  });\n}\nfunction take(arr) {\n  let count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return arr.slice(0, count);\n}\nfunction without(arr, values) {\n  return arr.filter(val => values.indexOf(val) === -1);\n}\nfunction pick(object, pick2) {\n  const res = {};\n  pick2.forEach(key => {\n    if (object[key] !== void 0) {\n      res[key] = object[key];\n    }\n  });\n  return res;\n}\n\n// src/get-client-rect-from-el.ts\nvar getClientRect = el => {\n  let left = 0;\n  let top = 0;\n  const width = el.offsetWidth;\n  const height = el.offsetHeight;\n  do {\n    left += el.offsetLeft;\n    top += el.offsetTop;\n    el = el.offsetParent;\n  } while (el);\n  const result = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height,\n    x: left,\n    y: top\n  };\n  return __spreadProps(__spreadValues({}, result), {\n    toJSON: () => JSON.stringify(result)\n  });\n};\nvar get_client_rect_from_el_default = getClientRect;\n\n// src/get-pingback-id.ts\nimport { v4 as uuid } from \"uuid\";\nvar pingbackId = \"\";\nvar idLength = 16;\nvar noUUIDRandom = () => {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  const charactersLength = characters.length;\n  for (let i = 0; i < idLength; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\nvar getPingbackId = () => {\n  if (!pingbackId) {\n    try {\n      pingbackId = sessionStorage.getItem(\"giphyPingbackId\");\n    } catch (_) {}\n    if (!pingbackId) {\n      const hexTime = ( /* @__PURE__ */new Date()).getTime().toString(16);\n      try {\n        pingbackId = \"\".concat(hexTime).concat(uuid().replace(/-/g, \"\")).substring(0, idLength);\n      } catch (error) {\n        pingbackId = noUUIDRandom();\n      }\n      try {\n        sessionStorage.setItem(\"giphyPingbackId\", pingbackId);\n      } catch (_) {}\n    }\n  }\n  return pingbackId;\n};\nvar get_pingback_id_default = getPingbackId;\n\n// src/webp-check.ts\nvar SUPPORTS_WEBP = null;\nvar checkIfWebP = new Promise(resolve => {\n  if (typeof Image === \"undefined\") {\n    resolve(false);\n  }\n  const webp = new Image();\n  webp.onload = () => {\n    SUPPORTS_WEBP = true;\n    resolve(SUPPORTS_WEBP);\n  };\n  webp.onerror = () => {\n    SUPPORTS_WEBP = false;\n    resolve(SUPPORTS_WEBP);\n  };\n  webp.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\n});\n\n// src/gif-utils.ts\nvar getSpecificRendition = function (_ref, renditionLabel) {\n  let {\n    images,\n    is_sticker: isSticker\n  } = _ref;\n  let isStill = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  let useVideo = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  if (!images || !renditionLabel) return \"\";\n  isStill = isStill && !useVideo;\n  const rendition = images[\"\".concat(renditionLabel).concat(isStill ? \"_still\" : \"\")];\n  if (rendition) {\n    if (isSticker || isStill) {\n      return rendition.url;\n    }\n    const webP = SUPPORTS_WEBP && rendition.webp;\n    return useVideo ? rendition.mp4 : webP || rendition.url;\n  }\n  return \"\";\n};\nvar getBestVideo = (video, width, height) => {\n  let assets = video == null ? void 0 : video.assets;\n  if (assets) {\n    assets = __spreadValues({}, assets);\n    delete assets.source;\n    const filteredAssets = Object.values(assets).sort((a, b) => a.width - b.width);\n    return bestfit_default(filteredAssets, width, height);\n  }\n};\nvar getRenditions = (type, images, video) => type === \"video\" && video && video.previews && !Object.keys(images).length ? video.previews : images;\nvar getBestRendition = (images, gifWidth, gifHeight, scaleUpMaxPixels) => {\n  const checkRenditions = pick(images, [\"original\", \"fixed_width\", \"fixed_height\", \"fixed_width_small\", \"fixed_height_small\"]);\n  const testImages = Object.entries(checkRenditions).map(_ref2 => {\n    let [renditionName, val] = _ref2;\n    return __spreadValues({\n      renditionName\n    }, val);\n  });\n  return bestfit_default(testImages, gifWidth, gifHeight, scaleUpMaxPixels);\n};\nvar getBestRenditionUrl = function (_ref3, gifWidth, gifHeight) {\n  let {\n    images,\n    video,\n    type\n  } = _ref3;\n  let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n    isStill: false,\n    useVideo: false\n  };\n  if (!gifWidth || !gifHeight || !images) return \"\";\n  const {\n    useVideo,\n    isStill,\n    scaleUpMaxPixels\n  } = options;\n  const renditions = getRenditions(type, images, video);\n  const {\n    renditionName\n  } = getBestRendition(renditions, gifWidth, gifHeight, scaleUpMaxPixels);\n  const key = \"\".concat(renditionName).concat(isStill && !useVideo ? \"_still\" : \"\");\n  const rendition = renditions[key];\n  const match = useVideo ? rendition.mp4 : SUPPORTS_WEBP && rendition.webp ? rendition.webp : rendition.url;\n  return match || \"\";\n};\nvar getGifHeight = (_ref4, gifWidth) => {\n  let {\n    images\n  } = _ref4;\n  const {\n    fixed_width\n  } = images;\n  if (fixed_width) {\n    const {\n      width,\n      height\n    } = fixed_width;\n    const aspectRatio = width / height;\n    return Math.round(gifWidth / aspectRatio);\n  }\n  return 0;\n};\nvar getGifWidth = (_ref5, gifHeight) => {\n  let {\n    images\n  } = _ref5;\n  const {\n    fixed_width\n  } = images;\n  if (fixed_width) {\n    const {\n      width,\n      height\n    } = fixed_width;\n    const aspectRatio = width / height;\n    return Math.round(gifHeight * aspectRatio);\n  }\n  return 0;\n};\nvar getAltText = _ref6 => {\n  let {\n    alt_text,\n    user,\n    tags = [],\n    is_sticker = false,\n    title = \"\"\n  } = _ref6;\n  if (alt_text) {\n    return alt_text;\n  }\n  if (title) {\n    return title;\n  }\n  const username = user && user.username || \"\";\n  const filteredTags = take(without(tags, [\"transparent\"]), username ? 4 : 5);\n  return \"\".concat(username ? \"\".concat(username, \" \") : \"\").concat(filteredTags.join(\" \"), \" \").concat(is_sticker ? \"Sticker\" : \"GIF\");\n};\n\n// src/sdk-headers.ts\nvar gl = (typeof window !== \"undefined\" ? window : global) || {};\ngl._GIPHY_SDK_HEADERS_ = gl._GIPHY_SDK_HEADERS_ || (gl.Headers ? new gl.Headers({\n  \"X-GIPHY-SDK-PLATFORM\": \"web\"\n}) : void 0);\nvar getGiphySDKRequestHeaders = () => gl._GIPHY_SDK_HEADERS_;\nvar appendGiphySDKRequestHeader = (key, value) => {\n  var _a;\n  return (_a = getGiphySDKRequestHeaders()) == null ? void 0 : _a.set(key, value);\n};\nvar appendGiphySDKRequestParam = (key, value) => {\n  var _a;\n  return (_a = getGiphySDKRequestHeaders()) == null ? void 0 : _a.set(key, value);\n};\nexport { LogLevel, Logger, appendGiphySDKRequestHeader, appendGiphySDKRequestParam, bestfit_default as bestfit, checkIfWebP, forEach, getAltText, getBestRendition, getBestRenditionUrl, getBestVideo, get_client_rect_from_el_default as getClientRect, getGifHeight, getGifWidth, getGiphySDKRequestHeaders, get_pingback_id_default as getPingbackId, getSpecificRendition, mapValues, pick, setRenditionScaleUpMaxPixels, take, without };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","LogLevel","LogLevel2","Logger","ENABLED","window","location","search","indexOf","LEVEL","PREFIX","debug","_len","arguments","length","msg","Array","_key","console","info","_len2","_key2","warn","_len3","_key3","error","_len4","_key4","closestArea","width","height","renditions","currentBest","Infinity","result","forEach","rendition","widthPercentage","heightPercentage","areaPercentage","testBest","Math","abs","SCALE_UP_MAX_PIXELS","setRenditionScaleUpMaxPixels","pixels","concat","bestfit","scaleUpMaxPixels","undefined","largestRendition","testRenditions","filter","bestfit_default","mapValues","object","mapFn","isArray","keys","reduce","take","arr","count","slice","without","values","val","pick","pick2","res","getClientRect","el","left","top","offsetWidth","offsetHeight","offsetLeft","offsetTop","offsetParent","right","bottom","x","y","toJSON","JSON","stringify","get_client_rect_from_el_default","v4","uuid","pingbackId","idLength","noUUIDRandom","characters","charactersLength","i","charAt","floor","random","getPingbackId","sessionStorage","getItem","_","hexTime","Date","getTime","toString","replace","substring","setItem","get_pingback_id_default","SUPPORTS_WEBP","checkIfWebP","Promise","resolve","Image","webp","onload","onerror","src","getSpecificRendition","_ref","renditionLabel","images","is_sticker","isSticker","isStill","useVideo","url","webP","mp4","getBestVideo","video","assets","source","filteredAssets","sort","getRenditions","type","previews","getBestRendition","gifWidth","gifHeight","checkRenditions","testImages","entries","map","_ref2","renditionName","getBestRenditionUrl","_ref3","options","match","getGifHeight","_ref4","fixed_width","aspectRatio","round","getGifWidth","_ref5","getAltText","_ref6","alt_text","user","tags","title","username","filteredTags","join","gl","global","_GIPHY_SDK_HEADERS_","Headers","getGiphySDKRequestHeaders","appendGiphySDKRequestHeader","_a","set","appendGiphySDKRequestParam"],"sources":["/Users/Tian/Documents/blink2/node_modules/@giphy/js-util/dist/index.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/log.ts\nvar LogLevel = /* @__PURE__ */ ((LogLevel2) => {\n  LogLevel2[LogLevel2[\"DEBUG\"] = 0] = \"DEBUG\";\n  LogLevel2[LogLevel2[\"INFO\"] = 1] = \"INFO\";\n  LogLevel2[LogLevel2[\"WARN\"] = 2] = \"WARN\";\n  LogLevel2[LogLevel2[\"ERROR\"] = 3] = \"ERROR\";\n  return LogLevel2;\n})(LogLevel || {});\nvar Logger = {\n  ENABLED: typeof window !== \"undefined\" && typeof location !== \"undefined\" && location.search.indexOf(\"giphy-debug\") !== -1,\n  LEVEL: 0,\n  PREFIX: \"GiphyJS\",\n  debug: (...msg) => {\n    if (Logger.ENABLED && Logger.LEVEL <= 0 /* DEBUG */) {\n      console.debug(Logger.PREFIX, ...msg);\n    }\n  },\n  info: (...msg) => {\n    if (Logger.ENABLED && Logger.LEVEL <= 1 /* INFO */) {\n      console.info(Logger.PREFIX, ...msg);\n    }\n  },\n  warn: (...msg) => {\n    if (Logger.ENABLED && Logger.LEVEL <= 2 /* WARN */) {\n      console.warn(Logger.PREFIX, ...msg);\n    }\n  },\n  error: (...msg) => {\n    if (Logger.ENABLED && Logger.LEVEL <= 3 /* ERROR */) {\n      console.error(Logger.PREFIX, ...msg);\n    }\n  }\n};\n\n// src/bestfit.ts\nvar closestArea = (width, height, renditions) => {\n  let currentBest = Infinity;\n  let result;\n  renditions.forEach((rendition) => {\n    const widthPercentage = rendition.width / width;\n    const heightPercentage = rendition.height / height;\n    const areaPercentage = widthPercentage * heightPercentage;\n    const testBest = Math.abs(1 - areaPercentage);\n    if (testBest < currentBest) {\n      currentBest = testBest;\n      result = rendition;\n    }\n  });\n  return result;\n};\nvar SCALE_UP_MAX_PIXELS = 50;\nvar setRenditionScaleUpMaxPixels = (pixels) => {\n  Logger.debug(`@giphy/js-util set rendition selection scale up max pixels to ${pixels}`);\n  SCALE_UP_MAX_PIXELS = pixels;\n};\nfunction bestfit(renditions, width, height, scaleUpMaxPixels = SCALE_UP_MAX_PIXELS) {\n  let [largestRendition] = renditions;\n  const testRenditions = renditions.filter((rendition) => {\n    if (rendition.width * rendition.height > largestRendition.width * largestRendition.height) {\n      largestRendition = rendition;\n    }\n    return width - rendition.width <= scaleUpMaxPixels && height - rendition.height <= scaleUpMaxPixels;\n  });\n  if (testRenditions.length === 0) {\n    return largestRendition;\n  }\n  return closestArea(width, height, testRenditions);\n}\nvar bestfit_default = bestfit;\n\n// src/collections.ts\nfunction mapValues(object, mapFn) {\n  if (Array.isArray(object)) {\n    throw `This map is just for objects, just use array.map for arrays`;\n  }\n  return Object.keys(object).reduce((result, key) => {\n    result[key] = mapFn(object[key], key);\n    return result;\n  }, {});\n}\nfunction forEach(object, mapFn) {\n  if (Array.isArray(object)) {\n    throw `This map is just for objects, just use array.forEach for arrays`;\n  }\n  return Object.keys(object).forEach((key) => {\n    mapFn(object[key], key);\n  });\n}\nfunction take(arr, count = 0) {\n  return arr.slice(0, count);\n}\nfunction without(arr, values) {\n  return arr.filter((val) => values.indexOf(val) === -1);\n}\nfunction pick(object, pick2) {\n  const res = {};\n  pick2.forEach((key) => {\n    if (object[key] !== void 0) {\n      res[key] = object[key];\n    }\n  });\n  return res;\n}\n\n// src/get-client-rect-from-el.ts\nvar getClientRect = (el) => {\n  let left = 0;\n  let top = 0;\n  const width = el.offsetWidth;\n  const height = el.offsetHeight;\n  do {\n    left += el.offsetLeft;\n    top += el.offsetTop;\n    el = el.offsetParent;\n  } while (el);\n  const result = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height,\n    x: left,\n    y: top\n  };\n  return __spreadProps(__spreadValues({}, result), { toJSON: () => JSON.stringify(result) });\n};\nvar get_client_rect_from_el_default = getClientRect;\n\n// src/get-pingback-id.ts\nimport { v4 as uuid } from \"uuid\";\nvar pingbackId = \"\";\nvar idLength = 16;\nvar noUUIDRandom = () => {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  const charactersLength = characters.length;\n  for (let i = 0; i < idLength; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\nvar getPingbackId = () => {\n  if (!pingbackId) {\n    try {\n      pingbackId = sessionStorage.getItem(\"giphyPingbackId\");\n    } catch (_) {\n    }\n    if (!pingbackId) {\n      const hexTime = (/* @__PURE__ */ new Date()).getTime().toString(16);\n      try {\n        pingbackId = `${hexTime}${uuid().replace(/-/g, \"\")}`.substring(0, idLength);\n      } catch (error) {\n        pingbackId = noUUIDRandom();\n      }\n      try {\n        sessionStorage.setItem(\"giphyPingbackId\", pingbackId);\n      } catch (_) {\n      }\n    }\n  }\n  return pingbackId;\n};\nvar get_pingback_id_default = getPingbackId;\n\n// src/webp-check.ts\nvar SUPPORTS_WEBP = null;\nvar checkIfWebP = new Promise((resolve) => {\n  if (typeof Image === \"undefined\") {\n    resolve(false);\n  }\n  const webp = new Image();\n  webp.onload = () => {\n    SUPPORTS_WEBP = true;\n    resolve(SUPPORTS_WEBP);\n  };\n  webp.onerror = () => {\n    SUPPORTS_WEBP = false;\n    resolve(SUPPORTS_WEBP);\n  };\n  webp.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\n});\n\n// src/gif-utils.ts\nvar getSpecificRendition = ({ images, is_sticker: isSticker }, renditionLabel, isStill = false, useVideo = false) => {\n  if (!images || !renditionLabel)\n    return \"\";\n  isStill = isStill && !useVideo;\n  const rendition = images[`${renditionLabel}${isStill ? \"_still\" : \"\"}`];\n  if (rendition) {\n    if (isSticker || isStill) {\n      return rendition.url;\n    }\n    const webP = SUPPORTS_WEBP && rendition.webp;\n    return useVideo ? rendition.mp4 : webP || rendition.url;\n  }\n  return \"\";\n};\nvar getBestVideo = (video, width, height) => {\n  let assets = video == null ? void 0 : video.assets;\n  if (assets) {\n    assets = __spreadValues({}, assets);\n    delete assets.source;\n    const filteredAssets = Object.values(assets).sort((a, b) => a.width - b.width);\n    return bestfit_default(filteredAssets, width, height);\n  }\n};\nvar getRenditions = (type, images, video) => type === \"video\" && video && video.previews && !Object.keys(images).length ? video.previews : images;\nvar getBestRendition = (images, gifWidth, gifHeight, scaleUpMaxPixels) => {\n  const checkRenditions = pick(images, [\n    \"original\",\n    \"fixed_width\",\n    \"fixed_height\",\n    \"fixed_width_small\",\n    \"fixed_height_small\"\n  ]);\n  const testImages = Object.entries(checkRenditions).map(([renditionName, val]) => __spreadValues({\n    renditionName\n  }, val));\n  return bestfit_default(testImages, gifWidth, gifHeight, scaleUpMaxPixels);\n};\nvar getBestRenditionUrl = ({ images, video, type }, gifWidth, gifHeight, options = { isStill: false, useVideo: false }) => {\n  if (!gifWidth || !gifHeight || !images)\n    return \"\";\n  const { useVideo, isStill, scaleUpMaxPixels } = options;\n  const renditions = getRenditions(type, images, video);\n  const { renditionName } = getBestRendition(renditions, gifWidth, gifHeight, scaleUpMaxPixels);\n  const key = `${renditionName}${isStill && !useVideo ? \"_still\" : \"\"}`;\n  const rendition = renditions[key];\n  const match = useVideo ? rendition.mp4 : SUPPORTS_WEBP && rendition.webp ? rendition.webp : rendition.url;\n  return match || \"\";\n};\nvar getGifHeight = ({ images }, gifWidth) => {\n  const { fixed_width } = images;\n  if (fixed_width) {\n    const { width, height } = fixed_width;\n    const aspectRatio = width / height;\n    return Math.round(gifWidth / aspectRatio);\n  }\n  return 0;\n};\nvar getGifWidth = ({ images }, gifHeight) => {\n  const { fixed_width } = images;\n  if (fixed_width) {\n    const { width, height } = fixed_width;\n    const aspectRatio = width / height;\n    return Math.round(gifHeight * aspectRatio);\n  }\n  return 0;\n};\nvar getAltText = ({ alt_text, user, tags = [], is_sticker = false, title = \"\" }) => {\n  if (alt_text) {\n    return alt_text;\n  }\n  if (title) {\n    return title;\n  }\n  const username = user && user.username || \"\";\n  const filteredTags = take(without(tags, [\"transparent\"]), username ? 4 : 5);\n  return `${username ? `${username} ` : ``}${filteredTags.join(\" \")} ${is_sticker ? \"Sticker\" : \"GIF\"}`;\n};\n\n// src/sdk-headers.ts\nvar gl = (typeof window !== \"undefined\" ? window : global) || {};\ngl._GIPHY_SDK_HEADERS_ = gl._GIPHY_SDK_HEADERS_ || (gl.Headers ? new gl.Headers({\n  \"X-GIPHY-SDK-PLATFORM\": \"web\"\n}) : void 0);\nvar getGiphySDKRequestHeaders = () => gl._GIPHY_SDK_HEADERS_;\nvar appendGiphySDKRequestHeader = (key, value) => {\n  var _a;\n  return (_a = getGiphySDKRequestHeaders()) == null ? void 0 : _a.set(key, value);\n};\nvar appendGiphySDKRequestParam = (key, value) => {\n  var _a;\n  return (_a = getGiphySDKRequestHeaders()) == null ? void 0 : _a.set(key, value);\n};\nexport {\n  LogLevel,\n  Logger,\n  appendGiphySDKRequestHeader,\n  appendGiphySDKRequestParam,\n  bestfit_default as bestfit,\n  checkIfWebP,\n  forEach,\n  getAltText,\n  getBestRendition,\n  getBestRenditionUrl,\n  getBestVideo,\n  get_client_rect_from_el_default as getClientRect,\n  getGifHeight,\n  getGifWidth,\n  getGiphySDKRequestHeaders,\n  get_pingback_id_default as getPingbackId,\n  getSpecificRendition,\n  mapValues,\n  pick,\n  setRenditionScaleUpMaxPixels,\n  take,\n  without\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}